# Combining components

## App.js
Lets combine all of our components together. Since we only have one template for the entire application we can import and add the Navbar and Footer to `/pages/_app.js`

```js filename="/pages/_app.js" copy
import Footer from '@/components/Footer'
import Navbar from '@/components/Navbar'
import '@/styles/globals.css'
import { useEffect } from 'react';


export default function App({ Component, pageProps }) {
  useEffect(() => {
    document.documentElement.style.setProperty('--nav-height', document.getElementById("navbar").offsetHeight + "px");
   }, [])
  
  
  return (
    <>
      <Navbar />
      <Component {...pageProps} />
      <Footer />
    </>
  )
}
```

We also used a react hook `useEffect()` to observe the navigation height and set that into a css global variable to be used for some css. This is how we can avoid the Navbar overlapping the top seciton of a page.
```css 
:root{
  /* need a placeholder value first! */  
  --nav-height: 70px;
}

.top-section{
  margin-top: var(--nav-height);
}
```

## Index.js

Now lets add all the other compnents to the home page!

```js filename="/pages/index.js" {1-8, 20-22} copy
import Head from 'next/head'
import Image from 'next/image'
import { Inter } from '@next/font/google'
import Hero from '@/components/Home/Hero'
import { useEffect } from 'react'
import { loadPosts } from '@/lib/load-posts'
import FeaturedPost from '@/components/Posts/Post/FeaturedPost'
import PostsGrid from '@/components/Posts/PostsGrid'

export default function Home({posts}) {
  return (
    <>
      <Head>
        <title>Nathan Ramsdell Blog</title>
        <meta name="description" content="Generated by create next app" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <main className='max-w-screen-lg mx-auto'>
        <Hero />
        <FeaturedPost post={posts.posts[0]} />
        <PostsGrid posts={posts} />
      </main>
    </>
  )
}

export async function getStaticProps() {
  // we dont have to fetch our api but instead call the same
  const posts = await loadPosts()

  return { props: { posts }}
}
```

## Conclusion

This is it, we have fully finished out simple Next.js blog with dynamic routing!